import java.sql.*;
import java.util.*;

public class MovieDao {
	//connection to database
	public static Connection getConnection(){
		Connection con = null;
		try {
			Class.forName("com.mysql.cj.jdbc.Driver");
			con = DriverManager.getConnection("jdbc:mysql://localhost:3306/cs157aprojectteam6","root","Halo4mlg!");	
		}catch(SQLException | ClassNotFoundException e) {
		e.printStackTrace();
		}
		return con;
	}
	
	public static int add(MovieList s) {
		int status = 0;
		try{  
			Connection conSave = MovieDao.getConnection();  
	        PreparedStatement ps = conSave.prepareStatement("INSERT INTO `cs157aprojectteam6`.`WatchList` (`listID`, `title`, `status`) VALUES ('?', '?', '?')");
	        ps.setInt(1, s.getListID());
	        ps.setString(2,s.getTitle());
	        ps.setString(3,s.getStatus());

	        status=ps.executeUpdate();
	        conSave.close();
	        
		}catch(SQLException e) {
			e.printStackTrace();
		}
		return status;
	}
}

	
	//inserting film to watchlist
	//public void insertMovie(MovieList movie)throws SQLException, ClassNotFoundException {
	//String UPDATE_WATCHLIST = "INSERT INTO `cs157aprojectteam6`.`WatchList` (`listID`, `title`, `status`) VALUES ('?', '?', '?')";
	
	//connection to database

	//creating statement using connection object
	//PreparedStatement preparedStatement =  connection.prepareStatement(UPDATE_WATCHLIST)){
	//preparedStatement.setInt(1,movie.getListID());
	//preparedStatement.setString(2,movie.getTitle());
	//preparedStatement.setString(3, movie.getStatus());
	//System.out.println(preparedStatement);